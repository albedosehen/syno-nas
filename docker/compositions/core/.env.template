# ===========================================
# UNIFIED CORE SERVICES CONFIGURATION
# ===========================================
# Template for Synology NAS DS1520+ unified core stack
# Copy this file to .env and customize the values
#
# Services: Portainer (management), SurrealDB (storage), Doppler (secrets)
# Target: Synology DSM 7.2+ with Docker 20.10+

# ===========================================
# SYSTEM CONFIGURATION
# ===========================================

# User and Group IDs for proper permissions on Synology NAS
# Find your IDs with: id username
PUID=1000
PGID=1000

# Timezone configuration (list: timedatectl list-timezones)
TZ=UTC

# ===========================================
# DOPPLER SECRETS MANAGEMENT
# ===========================================

# Doppler service token for secrets management
# Get from: https://dashboard.doppler.com/workplace/[workspace]/projects/[project]/configs/[config]/access
# Format: dp.pt.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DOPPLER_TOKEN=your_doppler_service_token_here

# Doppler project and configuration
DOPPLER_PROJECT=core-services
DOPPLER_CONFIG=dev

# ===========================================
# PORTAINER CONFIGURATION
# ===========================================

# Portainer Web UI port (default: 9000)
PORTAINER_PORT=9000

# Portainer Edge Agent port (default: 8000)
PORTAINER_EDGE_PORT=8000

# Portainer data directory (absolute path recommended for production)
PORTAINER_DATA_PATH=/volume1/docker/core/portainer/data

# Memory limits for Portainer container
PORTAINER_MEMORY_LIMIT=512M
PORTAINER_MEMORY_RESERVATION=256M

# ===========================================
# SURREALDB CONFIGURATION
# ===========================================

# SurrealDB Web UI and API port (default: 8001 to avoid conflict with Portainer edge)
SURREALDB_PORT=8001

# SurrealDB data directory (absolute path recommended for production)
SURREALDB_DATA_PATH=/volume1/docker/core/surrealdb/data

# SurrealDB configuration directory
SURREALDB_CONFIG_PATH=/volume1/docker/core/surrealdb/config

# Database credentials (will be managed by Doppler in production)
# For initial setup only - move to Doppler after deployment
SURREALDB_USER=admin
SURREALDB_PASS=your_secure_password_here

# Database configuration
SURREALDB_NAMESPACE=core
SURREALDB_DATABASE=services

# Memory limits for SurrealDB container
SURREALDB_MEMORY_LIMIT=1G
SURREALDB_MEMORY_RESERVATION=512M

# ===========================================
# SYNOLOGY NAS SPECIFIC SETTINGS
# ===========================================

# Docker base path on Synology NAS
SYNOLOGY_DOCKER_PATH=/volume1/docker

# Core services base path
CORE_SERVICES_PATH=/volume1/docker/core

# ===========================================
# NETWORK CONFIGURATION
# ===========================================

# Core network subnet (default: 172.20.0.0/16)
CORE_NETWORK_SUBNET=172.20.0.0/16
CORE_NETWORK_GATEWAY=172.20.0.1

# Network access restriction
LOCAL_NETWORK_ONLY=true

# ===========================================
# SECURITY SETTINGS
# ===========================================

# Enable security features
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true

# SSL/TLS Configuration (for future reverse proxy integration)
ENABLE_SSL=false
SSL_CERT_PATH=/volume1/docker/core/ssl/cert.pem
SSL_KEY_PATH=/volume1/docker/core/ssl/key.pem

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Backup directory for all core services
BACKUP_PATH=/volume1/docker/backups/core

# Backup retention settings
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=daily

# ===========================================
# MONITORING AND LOGGING
# ===========================================

# Log level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Log retention
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# Enable monitoring
ENABLE_MONITORING=true

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================

# Development mode (enables debug features)
DEV_MODE=false

# Rebuild containers on changes
AUTO_REBUILD=false

# Enable development ports
ENABLE_DEV_PORTS=false

# ===========================================
# ADVANCED CONFIGURATION
# ===========================================

# Container restart policy
RESTART_POLICY=unless-stopped

# Pull policy for images
PULL_POLICY=missing

# Enable experimental features
ENABLE_EXPERIMENTAL=false

# Resource monitoring
ENABLE_RESOURCE_MONITORING=true

# ===========================================
# INTEGRATION SETTINGS
# ===========================================

# Future service integration endpoints
MEDIA_SERVICES_ENDPOINT=http://172.20.0.10:8080
PRODUCTIVITY_SERVICES_ENDPOINT=http://172.20.0.20:8080
NETWORKING_SERVICES_ENDPOINT=http://172.20.0.30:8080

# External service URLs (for webhook/API integration)
WEBHOOK_URL=https://your-domain.com/webhooks
API_BASE_URL=https://api.your-domain.com

# ===========================================
# NOTIFICATIONS
# ===========================================

# Notification settings
ENABLE_NOTIFICATIONS=false
NOTIFICATION_EMAIL=admin@your-domain.com
NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/your/webhook/url