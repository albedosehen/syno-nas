# ===========================================
# SYNO-CORE MODULAR CONFIGURATION
# ===========================================
# Template for syno-core modular architecture environment variables
# Copy this file to .env and customize values

# ===========================================
# SYSTEM CONFIGURATION
# ===========================================

# User and Group IDs for proper permissions on Synology NAS
# Find your IDs with: id username
PUID=1000
PGID=1000

# Timezone configuration (list: timedatectl list-timezones)
TZ=UTC

# ===========================================
# DOPPLER SECRETS MANAGEMENT
# ===========================================

# Doppler service token for centralized secrets management
# Get from: https://dashboard.doppler.com/workplace/[workspace]/projects/[project]/configs/[config]/access
# Format: dp.pt.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DOPPLER_TOKEN=your_doppler_service_token_here

# Doppler project and configuration
DOPPLER_PROJECT=core-services
DOPPLER_CONFIG=dev

# ===========================================
# PORTAINER CONFIGURATION
# ===========================================

# Portainer Web UI port (default: 9000)
PORTAINER_PORT=9000

# Portainer Edge Agent port (default: 8000)
PORTAINER_EDGE_PORT=8000

# Portainer data directory (absolute path recommended for production)
PORTAINER_DATA_PATH=/volume1/docker/core/portainer/data

# Memory limits for Portainer container
PORTAINER_MEMORY_LIMIT=512M
PORTAINER_MEMORY_RESERVATION=256M

# ===========================================
# SURREALDB CONFIGURATION
# ===========================================

# SurrealDB Web UI and API port (default: 8000)
SURREALDB_PORT=8000

# SurrealDB data directory (absolute path recommended for production)
SURREALDB_DATA_PATH=/volume1/docker/core/surrealdb/data

# SurrealDB configuration directory
SURREALDB_CONFIG_PATH=/volume1/docker/core/surrealdb/config

# Memory limits for SurrealDB container
SURREALDB_MEMORY_LIMIT=1G
SURREALDB_MEMORY_RESERVATION=512M

# ===========================================
# AZURITE CONFIGURATION
# ===========================================

# Azurite storage service ports
AZURITE_BLOB_PORT=10000     # Blob storage service
AZURITE_QUEUE_PORT=10001    # Queue storage service
AZURITE_TABLE_PORT=10002    # Table storage service

# Azurite data directory
AZURITE_DATA_PATH=/volume1/docker/core/azurite/data

# Azurite storage account credentials (development only)
AZURITE_ACCOUNTS=synology:C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==

# Azurite logging configuration
AZURITE_ENABLE_ACCESS_LOG=true
AZURITE_ENABLE_DEBUG_LOG=false
AZURITE_SSL=false
AZURITE_LOCATION=./azurite_data

# Memory limits for Azurite container
AZURITE_MEMORY_LIMIT=256M
AZURITE_MEMORY_RESERVATION=128M

# ===========================================
# AZURE CLI CONFIGURATION
# ===========================================

# Azure CLI data directory
AZURE_CLI_DATA_PATH=/volume1/docker/core/azure-cli/data

# Enable automatic azurite initialization
AZURE_CLI_AUTO_INIT=true

# Azurite service name for Docker network communication
AZURITE_SERVICE_NAME=azurite

# Memory limits for Azure CLI container
AZURE_CLI_MEMORY_LIMIT=512M
AZURE_CLI_MEMORY_RESERVATION=256M

# ===========================================
# SYNOLOGY NAS SPECIFIC SETTINGS
# ===========================================

# Docker base path on Synology NAS
SYNOLOGY_DOCKER_PATH=/volume1/docker

# Core services base path
SYNO_CORE_SERVICES_PATH=/volume1/docker/core

# ===========================================
# NETWORK CONFIGURATION
# ===========================================

# Core network subnet (default: 172.20.0.0/16)
SYNO_CORE_NETWORK_SUBNET=172.20.0.0/16
SYNO_CORE_NETWORK_GATEWAY=172.20.0.1

# External network subnet (default: 172.21.0.0/16)
EXTERNAL_NETWORK_SUBNET=172.21.0.0/16
EXTERNAL_NETWORK_GATEWAY=172.21.0.1

# Network access restriction
LOCAL_NETWORK_ONLY=true

# ===========================================
# SECURITY SETTINGS
# ===========================================

# Enable security features
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true

# SSL/TLS Configuration (for future reverse proxy integration)
ENABLE_SSL=false
SSL_CERT_PATH=/volume1/docker/core/ssl/cert.pem
SSL_KEY_PATH=/volume1/docker/core/ssl/key.pem

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Backup directory for all core services
BACKUP_PATH=/volume1/docker/backups/core

# Backup retention settings
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=daily
ENABLE_AUTO_BACKUP=true

# ===========================================
# MONITORING AND LOGGING
# ===========================================

# Log level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Log retention
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# Enable centralized logging
ENABLE_CENTRALIZED_LOGGING=true

# Health check configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=40s

# Enable monitoring
ENABLE_MONITORING=true
ENABLE_RESOURCE_MONITORING=true

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================

# Development mode (enables debug features)
DEV_MODE=false

# Rebuild containers on changes
AUTO_REBUILD=false

# Enable development ports
ENABLE_DEV_PORTS=false

# ===========================================
# ADVANCED CONFIGURATION
# ===========================================

# Container restart policy
RESTART_POLICY=unless-stopped

# Pull policy for images
PULL_POLICY=missing

# Enable experimental features
ENABLE_EXPERIMENTAL=false

# ===========================================
# INTEGRATION SETTINGS
# ===========================================

# Future service integration endpoints
MEDIA_SERVICES_ENDPOINT=http://172.20.0.10:8080
PRODUCTIVITY_SERVICES_ENDPOINT=http://172.20.0.20:8080
NETWORKING_SERVICES_ENDPOINT=http://172.20.0.30:8080

# External service URLs (for webhook/API integration)
WEBHOOK_URL=https://your-domain.com/webhooks
API_BASE_URL=https://api.your-domain.com

# ===========================================
# NOTIFICATIONS
# ===========================================

# Notification settings
ENABLE_NOTIFICATIONS=false
NOTIFICATION_EMAIL=admin@your-domain.com
NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/your/webhook/url

# ===========================================
# RWWWRSE PROXY
# ===========================================
RWWWRSE_HOST_IP=<localip>
RWWWRSE_CERT_CACHE_DIR=rwwwrse-certs
RWWWRSE_DOMAINS=api.your-domain.com,www.your-domain.com
RWWWRSE_BACKEND=http://<HOST_IP>:<PORT>
RWWWRSE_API_BACKEND=http://<HOST_IP>:<PORT>

# ===========================================
# MODULAR ARCHITECTURE SETTINGS
# ===========================================

# Stack configuration
STACK_NAME=syno-core
STACK_VERSION=2.0.0-modular
ARCHITECTURE=modular

# Service discovery
SERVICE_DOMAIN=syno.local
ENABLE_SERVICE_REGISTRATION=false

# Module management
ENABLE_MODULE_AUTO_UPDATE=false
MODULE_UPDATE_SCHEDULE=weekly