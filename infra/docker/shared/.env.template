# ===========================================
# SHARED INFRASTRUCTURE CONFIGURATION
# ===========================================
# Template for standardized environment variables used across all modules
# Copy this file to .env in each service directory and customize values

# ===========================================
# SYSTEM CONFIGURATION
# ===========================================

# User and Group IDs for proper permissions on Synology NAS
# Find your IDs with: id username
PUID=1000
PGID=1000

# Timezone configuration (list: timedatectl list-timezones)
TZ=UTC

# ===========================================
# DOPPLER SECRETS MANAGEMENT
# ===========================================

# Doppler service token for secrets management
# Get from: https://dashboard.doppler.com/workplace/[workspace]/projects/[project]/configs/[config]/access
# Format: dp.pt.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DOPPLER_TOKEN=your_doppler_service_token_here

# Doppler project and configuration
DOPPLER_PROJECT=core-services
DOPPLER_CONFIG=dev

# ===========================================
# SYNOLOGY NAS PATHS
# ===========================================

# Core services base path on Synology NAS
SYNO_CORE_SERVICES_PATH=/volume1/docker/core

# Backup directory for all services
BACKUP_PATH=/volume1/docker/backups/core

# Docker base path on Synology NAS
SYNOLOGY_DOCKER_PATH=/volume1/docker

# ===========================================
# NETWORK CONFIGURATION
# ===========================================

# Core network subnet for service communication
SYNO_CORE_NETWORK_SUBNET=172.20.0.0/16
SYNO_CORE_NETWORK_GATEWAY=172.20.0.1

# External network subnet for isolated services
EXTERNAL_NETWORK_SUBNET=172.21.0.0/16
EXTERNAL_NETWORK_GATEWAY=172.21.0.1

# Network access restriction
LOCAL_NETWORK_ONLY=true

# ===========================================
# SECURITY SETTINGS
# ===========================================

# Enable security features
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true

# SSL/TLS Configuration (for future reverse proxy integration)
ENABLE_SSL=false
SSL_CERT_PATH=${SYNO_CORE_SERVICES_PATH}/ssl/cert.pem
SSL_KEY_PATH=${SYNO_CORE_SERVICES_PATH}/ssl/key.pem

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

# Log level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Log retention settings
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# Enable centralized logging
ENABLE_CENTRALIZED_LOGGING=true

# ===========================================
# RESOURCE DEFAULTS
# ===========================================

# Default memory limits (can be overridden per service)
DEFAULT_MEMORY_LIMIT=512M
DEFAULT_MEMORY_RESERVATION=256M

# Container restart policy
RESTART_POLICY=unless-stopped

# ===========================================
# MONITORING AND HEALTH CHECKS
# ===========================================

# Health check intervals
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=40s

# Enable resource monitoring
ENABLE_RESOURCE_MONITORING=true

# ===========================================
# SERVICE DISCOVERY
# ===========================================

# Base domain for service discovery (future use)
SERVICE_DOMAIN=syno.local

# Enable service registration
ENABLE_SERVICE_REGISTRATION=false

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Backup retention settings
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=daily

# Enable automated backups
ENABLE_AUTO_BACKUP=true

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================

# Development mode (enables debug features)
DEV_MODE=false

# Auto-rebuild containers on changes
AUTO_REBUILD=false

# Enable development ports
ENABLE_DEV_PORTS=false

# ===========================================
# INTEGRATION ENDPOINTS
# ===========================================

# Future service integration endpoints
MEDIA_SERVICES_ENDPOINT=http://172.20.0.10:8080
PRODUCTIVITY_SERVICES_ENDPOINT=http://172.20.0.20:8080
NETWORKING_SERVICES_ENDPOINT=http://172.20.0.30:8080

# External service URLs (for webhook/API integration)
WEBHOOK_URL=https://your-domain.com/webhooks
API_BASE_URL=https://api.your-domain.com

# ===========================================
# NOTIFICATIONS
# ===========================================

# Notification settings
ENABLE_NOTIFICATIONS=false
NOTIFICATION_EMAIL=admin@your-domain.com
NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/your/webhook/url