# ===========================================
# SURREALDB SERVICE CONFIGURATION
# ===========================================
# Multi-model database service configuration
# Copy this file to .env and customize the values
# NOTE: Database credentials are managed by shared infrastructure

# ===========================================
# SYSTEM CONFIGURATION
# ===========================================

# User and Group IDs for proper permissions on Synology NAS
PUID=1000
PGID=1000

# Timezone configuration
TZ=UTC

# Network access restriction
LOCAL_NETWORK_ONLY=true

# ===========================================
# SURREALDB CONFIGURATION
# ===========================================

# SurrealDB Web UI and API port
SURREALDB_PORT=8000

# SurrealDB data directory on host
# Recommended: Use absolute path for production
SURREALDB_DATA_PATH=./data

# SurrealDB configuration directory
SURREALDB_CONFIG_PATH=./config

# ===========================================
# RESOURCE LIMITS
# ===========================================

# Memory limits for SurrealDB container
SURREALDB_MEMORY_LIMIT=1G
SURREALDB_MEMORY_RESERVATION=512M

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# Database storage mode (file, memory, tikv)
SURREALDB_STORAGE_MODE=file

# Database file location (for file mode)
SURREALDB_DATABASE_FILE=/data/database.db

# Enable strict mode (recommended for production)
SURREALDB_STRICT_MODE=true

# ===========================================
# SECURITY SETTINGS
# ===========================================

# Database credentials are managed via Doppler keyvault:
# - /keyvault/SURREALDB_USERNAME
# - /keyvault/surrealdb_pass
# - /keyvault/surrealdb_namespace
# - /keyvault/surrealdb_database

# Default namespace and database (fallback values)
SURREALDB_DEFAULT_NAMESPACE=core
SURREALDB_DEFAULT_DATABASE=main

# ===========================================
# CONNECTION SETTINGS
# ===========================================

# Bind address for SurrealDB server
SURREALDB_BIND_ADDRESS=0.0.0.0:8000

# Enable WebSocket connections
SURREALDB_ENABLE_WS=true

# Enable HTTP API
SURREALDB_ENABLE_HTTP=true

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

# Log level (TRACE, DEBUG, INFO, WARN, ERROR)
SURREALDB_LOG_LEVEL=INFO

# Enable query logging
SURREALDB_LOG_QUERIES=false

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Enable automated backups
ENABLE_AUTO_BACKUP=true

# Backup directory
BACKUP_PATH=/volume1/docker/backups/surrealdb

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================

# Enable development mode (more verbose logging)
SURREALDB_DEV_MODE=false

# Enable CORS for development
SURREALDB_ENABLE_CORS=false

# ===========================================
# INTEGRATION SETTINGS
# ===========================================

# Health check endpoint
HEALTH_CHECK_ENDPOINT=/health

# Enable metrics endpoint
SURREALDB_ENABLE_METRICS=false

# Metrics endpoint
METRICS_ENDPOINT=/metrics