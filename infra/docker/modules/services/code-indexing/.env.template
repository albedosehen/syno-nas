# ===========================================
# CODE INDEXING SERVICE ENVIRONMENT TEMPLATE
# ===========================================
# Copy this file to .env and customize the values for your environment
# This service provides AI-powered code indexing using Qdrant and Ollama

# ===========================================
# SYSTEM CONFIGURATION
# ===========================================
# User and group IDs for file permissions
PUID=1000
PGID=1000

# Timezone configuration
TZ=UTC

# Network security - restrict to local network only
LOCAL_NETWORK_ONLY=true

# ===========================================
# QDRANT CONFIGURATION
# ===========================================
# Vector database for AI embeddings

# Qdrant version and port
QDRANT_VERSION=latest
QDRANT_PORT=6333

# Data storage path
QDRANT_DATA_PATH=./data/qdrant

# Resource limits
QDRANT_MEMORY_LIMIT=2G
QDRANT_MEMORY_RESERVATION=1G

# ===========================================
# OLLAMA CONFIGURATION
# ===========================================
# Local LLM inference engine

# Ollama version and port
OLLAMA_VERSION=latest
OLLAMA_PORT=11434

# Data storage path
OLLAMA_DATA_PATH=./data/ollama

# Resource limits
OLLAMA_MEMORY_LIMIT=4G
OLLAMA_MEMORY_RESERVATION=2G

# Network configuration
OLLAMA_ORIGINS=*
OLLAMA_HOST=0.0.0.0

# ===========================================
# GPU CONFIGURATION (OPTIONAL)
# ===========================================
# GPU support is disabled by default for Synology NAS compatibility
# Uncomment and modify these settings only if you have GPU hardware support

# For systems with NVIDIA GPU support, you can enable GPU acceleration
# by adding the following to your docker-compose.yml deploy section:
#   deploy:
#     resources:
#       reservations:
#         devices:
#           - driver: nvidia
#             count: all
#             capabilities: [gpu]
#
# And add these environment variables to ollama service:
# NVIDIA_VISIBLE_DEVICES=all
# NVIDIA_DRIVER_CAPABILITIES=compute,utility

# ===========================================
# SHARED INFRASTRUCTURE
# ===========================================
# These are typically set in the main .env file

# Core services path for shared volumes
# SYNO_CORE_SERVICES_PATH=/volume1/docker/core

# Backup path for data backups
# BACKUP_PATH=/volume1/docker/backups/core

# Logging configuration
# LOG_MAX_SIZE=10m
# LOG_MAX_FILES=3